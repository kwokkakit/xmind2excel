webpackJsonp([1],{0:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW"),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=i("VU/8")({name:"App"},l,!1,function(e){i("vGjf")},null,null).exports,s=i("zL8q"),o=i.n(s),r=(i("tvR6"),i("8+8L")),p=i("/ocq"),c={name:"Xmind2xls",data:function(){return{fileType:0,fileName:"",fileLink:"",loadingFlag:!1}},methods:{handleFileChange:function(e){"xmind"!==e.name.split(".")[1]?(this.$message({type:"error",message:"上传文件必须为xmind格式"}),this.$refs.upload.clearFiles()):(this.fileName=e.name.split(".")[0])},handleRemove:function(){this.fileName=""},handleSuccess:function(){},beforeUpload:function(e){var t=new FormData;t.append("file",e),t.append("selection",this.fileType.toString()),this.handleUpload(t)},handleUpload:function(e){this.loadingFlag=!0,this.$http.post("/xmind2xls/upload",e).then(function(e){if(this.loadingFlag=!1,"S"===e.body.status){this.fileName = '',this.fileLink=e.body.filename;var t=document.createElement("a");t.href="/xmind2xls/download?fileType=xls&filename="+this.fileLink,t.click()}else this.$message({type:"error",message:"文件上传失败，请重新上传文件"})}).catch(function(e){this.loadingFlag=!1,this.$message({type:"error",message:"文件上传失败，请重新上传文件"})})},handleExceed:function(){this.$message({type:"info",message:"只能上传1个文件，如需重新上传请先移除已上传的文件"})},submitUpload:function(){if(0===this.fileType)return this.$message({type:"error",message:"请先选择需转换的类型"}),!1;""===this.fileName?this.$message({type:"error",message:"请先选择需转换的xmind文件"}):this.$refs.upload.submit()}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingFlag,expression:"loadingFlag"}],staticStyle:{margin:"auto",top:"20px",left:"20px",right:"20px",bottom:"20px"}},[i("div",{staticStyle:{margin:"20px"}},[i("el-radio-group",{attrs:{size:"medium"},model:{value:e.fileType,callback:function(t){e.fileType=t},expression:"fileType"}},[i("el-radio",{attrs:{label:1}},[e._v("标准类型")]),e._v(" "),i("el-radio",{attrs:{label:2}},[e._v("其他类型")])],1)],1),e._v(" "),i("el-upload",{ref:"upload",staticStyle:{margin:"auto",top:"20px",left:"20px",right:"20px",bottom:"20px",width:"380px"},attrs:{drag:"",action:"test","auto-upload":!1,limit:1,"on-change":e.handleFileChange,"before-upload":e.beforeUpload,"on-exceed":e.handleExceed,"on-remove":e.handleRemove,"on-success":e.handleSuccess}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])]),e._v(" "),i("div",{staticClass:"el-upload__tip",staticStyle:{"font-size":"14px"},attrs:{slot:"tip"},slot:"tip"},[e._v("注意：需要选择转换类型，且只能上传xmind文件")])]),e._v(" "),i("div",{staticStyle:{margin:"20px"}},[i("el-button",{staticStyle:{"font-size":"15px"},attrs:{type:"text"},on:{click:function(t){e.submitUpload()}}},[i("i",{staticClass:"el-icon-download"}),e._v("点击下载转换结果文件")])],1),e._v(" "),e._m(0),e._v(" "),e._m(1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticStyle:{"margin-right":"20px","font-size":"15px"},attrs:{type:"text",href:"/xmind2xls/download?filename=sample1.xmind&fileType=sample"}},[this._v("标准模板 "),t("i",{staticClass:"el-icon-arrow-right"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticStyle:{"margin-right":"20px","font-size":"15px"},attrs:{type:"text",href:"/xmind2xls/download?filename=sample2.xmind&fileType=sample"}},[this._v("其他模板 "),t("i",{staticClass:"el-icon-arrow-right"})])}]},u=i("VU/8")(c,d,!1,null,null,null).exports;a.default.use(p.a);var f=new p.a({routes:[{path:"/",name:"Xmind2xls",component:u}]});a.default.config.productionTip=!1,a.default.use(o.a),a.default.use(r.a),a.default.http.options.emulateJSON=!0,new a.default({el:"#app",router:f,components:{App:n},template:"<App/>"})},tvR6:function(e,t){},vGjf:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e39acea0524e3d7840ce.js.map